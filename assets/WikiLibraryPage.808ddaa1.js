import{_ as p}from"./MangaListItem.eded5655.js";import{d as g,r as h,j as k,o as s,c as i,w as r,u as e,i as I,a as t,k as b,l as c,m as f,g as d,n as y,p as B,h as w,q as x,s as E,F as L,t as v,v as T,x as C}from"./index.9679af6a.js";import{e as F}from"./mangas.0dbd3dad.js";import{t as N}from"./ui.5dca22cd.js";import{p as P,a as V}from"./index.23c7c444.js";const $=T("Meine Sammlung"),W=g({setup(j){const{client:m}=C(),l=h([]),{beforeEach:_}=k(),u=async()=>{console.log("fetchLibrary");const{data:a,error:o}=await m.from("mangas").select("*, user_vlb_library!inner(*)");if(a!=null)l.value=a.map(F);else throw o?(N(),Error(o.message)):Error("There is no data...")};return _(a=>(a.name=="WikiLibraryPage"&&u(),!0)),u(),(a,o)=>(s(),i(e(I),null,{default:r(()=>[t(e(b),{class:"ion-no-border",translucent:!0},{default:r(()=>[t(e(B),null,{default:r(()=>[t(e(c),{slot:"start"},{default:r(()=>[t(e(f),{"router-link":"/profile"},{default:r(()=>[t(e(d),{slot:"icon-only",src:e(P)},null,8,["src"])]),_:1})]),_:1}),t(e(y),null,{default:r(()=>[$]),_:1}),t(e(c),{slot:"end"},{default:r(()=>[t(e(f),{disabled:!0},{default:r(()=>[t(e(d),{slot:"icon-only",src:e(V)},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1}),t(e(w),null,{default:r(()=>[t(e(v),{lines:"full"},{default:r(()=>[(s(!0),x(L,null,E(l.value,n=>(s(),i(p,{key:n.gtin13,title:n.title,"router-link":`/manga/${n.gtin13}`},null,8,["title","router-link"]))),128))]),_:1})]),_:1})]),_:1}))}});export{W as default};
