import{P as w,S as y,Q as S,R as T,T as j,U as x}from"./vendor.b36a9285.js";var v=globalThis&&globalThis.__assign||function(){return v=Object.assign||function(a){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(a[e]=n[e])}return a},v.apply(this,arguments)},P=globalThis&&globalThis.__rest||function(a,n){var r={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&n.indexOf(t)<0&&(r[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,t=Object.getOwnPropertySymbols(a);e<t.length;e++)n.indexOf(t[e])<0&&Object.prototype.propertyIsEnumerable.call(a,t[e])&&(r[t[e]]=a[t[e]]);return r},C=globalThis&&globalThis.__read||function(a,n){var r=typeof Symbol=="function"&&a[Symbol.iterator];if(!r)return a;var t=r.call(a),e,i=[],o;try{for(;(n===void 0||n-- >0)&&!(e=t.next()).done;)i.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return i};function I(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var t=C(n,2),e=t[0],i=e===void 0?{}:e,o=t[1],s=typeof a=="function"?a():a,c=i.context,u=i.guards,l=i.actions,d=i.activities,b=i.services,p=i.delays,g=i.state,m=P(i,["context","guards","actions","activities","services","delays","state"]),O={context:c,guards:u,actions:l,activities:d,services:b,delays:p},_=s.withConfig(O,function(){return v(v({},s.context),c)}),h=w(_,m).start(g?y.create(g):void 0),f;return S(function(){o&&(f=h.subscribe(T(o)))}),j(function(){h.stop(),f==null||f.unsubscribe()}),h}var R=globalThis&&globalThis.__read||function(a,n){var r=typeof Symbol=="function"&&a[Symbol.iterator];if(!r)return a;var t=r.call(a),e,i=[],o;try{for(;(n===void 0||n-- >0)&&!(e=t.next()).done;)i.push(e.value)}catch(s){o={error:s}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return i};function k(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var t=R(n,1),e=t[0],i=e===void 0?{}:e;function o(l){var d=l.changed===void 0&&Object.keys(l.children).length;(l.changed||d)&&(u.value=l)}var s=I(a,i,o),c=s.machine.initialState,u=x(i.state?y.create(i.state):c);return{state:u,send:s.send,service:s}}export{k as u};
