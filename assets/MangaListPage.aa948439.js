import{d as v,o as l,a as o,b as e,e as a,u as t,p as k,q as M,s as w,v as h,x as m,y as p,z as C,A as S,B as L,C as y,D as B,r as A,E as b,F as g,G as E,H as $,J as H,K as z,L as R,M as F,N as T,O as N,P}from"./vendor.30967a74.js";import{u as V}from"./mangas.3e938501.js";import{u as D}from"./useMachine.27909c58.js";import"./index.4e9ba1cb.js";const q="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",G="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Person</title><path d='M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 01-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 01432 480z'/></svg>",J="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z'/></svg>",K=v({props:{title:null},setup(i){return(r,u)=>(l(),o(t(L),{translucent:!0},{default:e(()=>[a(t(S),null,{default:e(()=>[a(t(k),null,{default:e(()=>[M(w(i.title),1)]),_:1}),a(t(h),{slot:"start"},{default:e(()=>[a(t(m),{"router-link":"/profile"},{default:e(()=>[a(t(p),{slot:"icon-only",src:t(G)},null,8,["src"])]),_:1})]),_:1}),a(t(h),{slot:"end"},{default:e(()=>[C(r.$slots,"actions")]),_:3})]),_:3}),C(r.$slots,"toolbars")]),_:3}))}}),O=v({props:{title:null},setup(i){return(r,u)=>(l(),o(t(B),{button:!0,detail:!0},{default:e(()=>[a(t(y),{class:"ion-text-wrap"},{default:e(()=>[M(w(i.title),1)]),_:1})]),_:1}))}}),X=v({setup(i){const{load:r,mangas:u,filter:c}=V(),I=A(null),x=b({id:"MangaListPage",initial:"ListMangas",states:{ListMangas:{entry:"load",on:{SEARCH:{target:"SearchMangas",actions:"focusSearchInput"}}},SearchMangas:{on:{CLEAR_SEARCH:{target:"ListMangas",actions:["clearFilter"]}}}}},{actions:{focusSearchInput:()=>setTimeout(()=>{var d;return(d=I.value)==null?void 0:d.$el.setFocus()},300),clearFilter:()=>c.value="",load:r}}),{state:f,send:_}=D(x,{devTools:!1});return(d,n)=>(l(),o(t(P),null,{default:e(()=>[a(K,{title:"Mangas"},{actions:e(()=>[t(f).matches("ListMangas")?(l(),o(t(m),{key:0,onClick:n[0]||(n[0]=s=>t(_)("SEARCH"))},{default:e(()=>[a(t(p),{slot:"icon-only",icon:t(J)},null,8,["icon"])]),_:1})):g("",!0),t(f).matches("SearchMangas")?(l(),o(t(m),{key:1,onClick:n[1]||(n[1]=s=>t(_)("CLEAR_SEARCH"))},{default:e(()=>[a(t(p),{slot:"icon-only",icon:t(q)},null,8,["icon"])]),_:1})):g("",!0)]),toolbars:e(()=>[t(f).matches("SearchMangas")?(l(),o(t(S),{key:0,class:"ion-no-border"},{default:e(()=>[a(t(E),{ref_key:"searchBar",ref:I,value:t(c),onIonChange:n[2]||(n[2]=s=>c.value=s.detail.value)},null,8,["value"])]),_:1})):g("",!0)]),_:1}),a(t(N),{fullscreen:!0},{default:e(()=>[a(t($),{lines:"full"},{default:e(()=>[(l(!0),H(R,null,z(t(u),s=>(l(),o(O,{key:s.gtin13,title:s.title,"router-link":`/manga/${s.gtin13}`},null,8,["title","router-link"]))),128))]),_:1}),a(t(F),{onIonInfinite:n[3]||(n[3]=s=>t(r)().then(()=>s.target.complete()))},{default:e(()=>[a(t(T))]),_:1})]),_:1})]),_:1}))}});export{X as default};
