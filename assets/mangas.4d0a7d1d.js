import{r as i,P as l}from"./index.f01522e6.js";const{client:a,proxyUrlFor:t}=l(),u=r=>{const s={...r,samples:[],coverPack:[],cover(e){var o,c;if((o=r.resources)!=null&&o.front_cover)return t((c=r.resources)==null?void 0:c.front_cover,e)},shelf:void 0};if(r.resources&&(r.resources.back_cover&&(s.backCover=t(r.resources.back_cover)),Array.isArray(r.resources.samples)&&(s.samples=r.resources.samples.map(e=>t(e))),Array.isArray(r.resources.cover_pack)&&(s.coverPack=r.resources.cover_pack.map(e=>t(e)))),"user_vlb_library"in r){const e=r.user_vlb_library[0];e!=null&&e.shelf&&(s.shelf=e.shelf)}return s},n=()=>{const r=i();return{load:async e=>{const{data:o,error:c}=await a.from("mangas").select("*").eq("gtin13",e).single();if(o!=null)r.value=u(o);else throw Error(c?c.message:"There is no data...")},manga:r}};export{u as e,n as u};
