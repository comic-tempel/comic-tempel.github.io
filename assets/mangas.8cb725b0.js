var m=Object.defineProperty,x=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var g=(s,t,e)=>t in s?m(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,w=(s,t)=>{for(var e in t||(t={}))y.call(t,e)&&g(s,e,t[e]);if(u)for(var e of u(t))M.call(t,e)&&g(s,e,t[e]);return s},d=(s,t)=>x(s,k(t));import{u as C}from"./index.e7ab0164.js";import{r as c,R as z}from"./vendor.801380ed.js";const B="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Checkmark</title><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",b="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Copy</title><rect x='128' y='128' width='336' height='336' rx='57' ry='57' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",j="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Create</title><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/><path d='M386.34 193.66L264.45 315.79A41.08 41.08 0 01247.58 326l-25.9 8.67a35.92 35.92 0 01-44.33-44.33l8.67-25.9a41.08 41.08 0 0110.19-16.87l122.13-121.91a8 8 0 00-5.65-13.66H104a56 56 0 00-56 56v240a56 56 0 0056 56h240a56 56 0 0056-56V199.31a8 8 0 00-13.66-5.65z'/></svg>",H="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Person</title><path d='M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 01-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 01432 480z'/></svg>",P="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z'/></svg>",{client:h,proxyUrlFor:r}=C(),p=s=>{const t=d(w({},s),{samples:[],coverPack:[],cover(e){var o,a;if((o=s.resources)==null?void 0:o.front_cover)return r((a=s.resources)==null?void 0:a.front_cover,e)}});return s.resources&&(s.resources.back_cover&&(t.backCover=r(s.resources.back_cover)),Array.isArray(s.resources.samples)&&(t.samples=s.resources.samples.map(e=>r(e))),Array.isArray(s.resources.cover_pack)&&(t.coverPack=s.resources.cover_pack.map(e=>r(e)))),t},S=()=>{const s=c();return{load:async e=>{const{data:o,error:a}=await h.from("mangas").select("*").eq("gtin13",e).single();if(o!=null)s.value=p(o);else throw Error(a?a.message:"There is no data...")},manga:s}},q=(s=20)=>{const t=c([]),e=c(""),o=c(0),a=()=>{t.value=[],o.value=0},n=async()=>{const i=h.from("mangas").select();e.value!=""&&i.textSearch("title_tsv",e.value,{type:"phrase",config:"german"});const{data:l,error:v}=await i.range(o.value,o.value+s).order("date_updated",{ascending:!1});if(v)throw Error(v.message);l!=null&&l.length>0&&(l.forEach(f=>t.value.push(p(f))),o.value=o.value+s)};return z(e,()=>{a(),n()}),{load:n,reset:a,mangas:t,filter:e}};export{S as a,j as b,b as c,E as d,B as e,H as p,P as s,q as u};
