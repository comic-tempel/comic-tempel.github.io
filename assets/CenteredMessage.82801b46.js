import{_ as h,a as g}from"./WikiImg.4e5c0749.js";import{d,c as u,w as n,F as x,u as o,o as _,l as e,a as c,K as v,L as b,t as l,s as k,v as w,V as $,W as C,q as y,k as B}from"./index.ad8b134d.js";import{_ as I}from"./BarcodeScanner.86e4afd9.js";const M={class:"h-36 sm:h-40 lg:h-52 xl:h-64 overflow-clip"},V=e("div",{class:"opacity-30"},[e("img",{class:"w-full",src:g})],-1),j={class:"absolute left-3 top-3"},q={class:"line-clamp-1 text-sm"},A=d({__name:"MangaListItem",props:{title:null,coverUrl:null,isVisible:{type:Boolean}},setup(t){return(r,i)=>(_(),u(o(w),{class:x({"manga-card":!0,translucent:!t.isVisible}),button:""},{default:n(()=>[e("div",M,[c(h,{src:t.coverUrl},{default:n(()=>[V,e("div",j,[c(o(v),{class:"text-white"},{default:n(()=>[b("kein Cover")]),_:1})])]),_:1},8,["src"])]),c(o(k),null,{default:n(()=>[e("div",q,l(t.title),1)]),_:1})]),_:1},8,["class"]))}}),F=d({__name:"BarcodeScannerModal",emits:["scanned"],setup(t,{emit:r}){const{client:i}=y(),f=async a=>{const{data:s,error:m}=await i.from("mangas").select().or(`gtin13.eq.${a},isbn10.eq.${a}`).single();return m||s==null?Promise.reject(new Error("Das ist kein Manga")):s},p=async a=>{try{const s=await f(a);r("scanned",s.gtin13)}catch(s){(await C.create({message:s.message,duration:2e3,color:"warning"})).present()}};return(a,s)=>(_(),u(o($),{class:"barcode-scanner","initial-breakpoint":1,breakpoints:[0,1]},{default:n(()=>[c(I,{onScanned:p})]),_:1},8,["initial-breakpoint","breakpoints"]))}}),L={class:"h-full grid place-items-center"},N={class:"text-center"},S={class:"text-6xl"},D={class:"text-md text-medium-default mt-8 w-40"},K=d({__name:"CenteredMessage",props:{emoji:null,text:null},setup(t){return(r,i)=>(_(),B("div",L,[e("div",N,[e("div",S,l(t.emoji),1),e("div",D,l(t.text),1)])]))}});export{F as _,K as a,A as b};
